// Generated by CoffeeScript 1.6.3
(function() {
  var handle_change, max, update;

  max = -1;

  
  handle_change = function(orig, new_p, location) {
    if (new_p > orig && orig !== -1) {
      $(location).addClass("green");
    } else if (new_p < orig) {
      $(location).addClass("red");
    }
    window.setTimeout((function() {
      $(location).removeClass("green");
      return $(location).removeClass("red");
    }), 1500);
    return new_p;
  };

  update = function() {
    return $.ajax({
      url: "https://cryptorush.in/api.php?get=marketv2&m=max&b=btc&json=true",
      dataType: "json",
      cache: false,
      success: function(data) {
        var lasttrade, lastsell, lastbuy, currentask, currentaskvolume, currentbid, currentbidvolume, highest24, lowest24, volumebase24;
        lasttrade = data.MAX/BTC.last_trade;
        lastsell = data.MAX/BTC.volume_btc;
        lastbuy = data.MAX/BTC.rates.last;
        currentask = data.MAX/BTC.current_ask;
        currentaskvolume = data.MAX/BTC.current_asl_volume;
        currentbid = data.MAX/BTC.current_bid;
        currentbidvolume = current_bid_volume;
        highest24 = highest_24h;
        lowest24 = lowest_24h;
        volumebase24 = volume_base_24h;
        maxprice = handle_change(maxprice, currentask, "#max-price");
                      
        $("#max-price").html(mtgox.toFixed(2));
      
        return $("#content").removeClass("hidden");
      }
    });
  };

  $(document).ready(function() {
    update();
    return setInterval(update, 60000);
  });

  $(document).click(update);

}).call(this);
